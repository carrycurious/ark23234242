import cv2 as cv 
import numpy as np
np.set_printoptions(threshold=np.inf) 
img=cv.imread(r'C:\Users\sandeep\Downloads\pi_image.png')#r'C:\Users\sandeep\Downloads\left.png
img2=cv.imread(r'C:\Users\sandeep\Downloads\artwork_picasso.png')
img3=cv.imread(r'C:\Users\sandeep\Downloads\collage.png')
  
print(img3.shape)


if img is None:
    print("Error: Image not loaded. Check the file path.")
else:
    print(img.shape)  # If loaded correctly, print its shape


if img2 is None:
    print("Error: Image not loaded. Check the file path.")
else:
    print(img2.shape)  

#arr = np.zeros((50, 50)) 
img3 = cv.cvtColor(img3, cv.COLOR_BGR2GRAY)   
img = cv.cvtColor(img, cv.COLOR_BGR2GRAY)
img2 = cv.cvtColor(img2, cv.COLOR_BGR2GRAY)




x = "3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679\
8214808651328230664709384460955058223172535940812848111745028410270193852110555964462294895493038196\
4428810975665933446128475648233786783165271201909145648566923460348610454326648213393607260249141273\
7245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094\
3305727036575959195309218611738193261179310511854807446237996274956735188575272489122793818301194912\
9833673362440656643086021394946395224737190702179860943702770539217176293176752384674818467669405132\
0005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235\
4201995611212902196086403441815981362977477130996051870721134999983729780499510597317328160963185950\
2445945534690830264252230825334468503526193118817101000313783875288658753320838142061717766914730359\
8253490428755468731159562863882353787593751957781857780532171226806613001927876611195909216420198993\
8095257201065485863278865936153381827968230301952035301852968995773622599413891249721775283479131515\
5748572424541506959508295331168617278558890750983817546374649393192550604009277016711390098488240128\
5836160356370766010471018194295559619894676783744944825537977472684710404753464620804668425906949129\
3313677028989152104752162056966024058038150193511253382430035587640247496473263914199272604269922796\
7823547816360093417216412199245863150302861829745557067498385054945885869269956909272107975093029553\
2116534498720275596023648066549911988183479775356636980742654252786255181841757467289097777279380008\
1647060016145249192173217214772350141441973568548161361157352552133475741849468438523323907394143334\
5477624168625189835694855620992192221842725502542568876717904946016534668049886272327917860857843838\
2796797668145410095388378636095068006422512520511739298489608412848862694560424196528502221066118630\
6744278622039194945047123713786960956364371917287467764657596241389086583264599581339047802759009946\
5764078951269468398352595709825822620522489407726719478268482601476990902640136394437455305068203496\
2524517493996514314298091906592509372216964615157098583874105978859597729754989301617539284681382686\
8386894277415599185592524595395943104997252468084598727364469584865383673622262609912460805124388439\
0451244136549762780797715691435997700129616089441694868555848406353422072225828488648158456028506016\
8427394522674676788952521385225499546667278239864565961163548862305774564980355936345681743241125150\
760694794510965960940252288797108931456691368672287489405601015033086179286809208747609178249386" 
#print(img.shape,img )
#finding the coordinates of the 4 anamoly points 
for i in range(50):
    for j in range(50):
        if(img[i][j]==255):
            print(i,j)
            print(x[50*i+j])

#we find the 4 points to be  9 8 3 0 

arr=np.zeros((2,2), dtype=int)
arr[0][0]=int(10*3.141*9)   
arr[0][1]=int(10*3.141*8)
arr[1][0]=int(10*3.141*3)
arr[1][1]=int(0*10*3.141)

#arr is the template 


duplicate = np.zeros_like(img2)
duplicate2 = np.zeros_like(img2)

#filter is 2*2 

for i in range(0,100,2):
    for j in range(0,100,2):
        duplicate[i][j]=(img2[i][j])^(arr[0][0])
        duplicate[i][j+1]=(img2[i][j+1])^(arr[0][1])
        duplicate[i+1][j]=(img2[i+1][j])^(arr[1][0])
        duplicate[i+1][j+1]=(img2[i+1][j+1])^(arr[1][1])
     


result = cv.matchTemplate(img3,duplicate, cv.TM_CCOEFF_NORMED)


# Get min/max values and locations
min_val, max_val, min_loc, max_loc = cv.minMaxLoc(result)
if max_val == 1.0:
    print("1")
print(max_val)    

result = cv.matchTemplate(img3, duplicate2, cv.TM_CCOEFF_NORMED)

# Get min/max values and locations
min_val, max_val, min_loc, max_loc = cv.minMaxLoc(result)
if max_val == 1.0:
    print("2")


def get_coordinates(event, x, y, flags, param):
    if event == cv.EVENT_LBUTTONDOWN:  # Left mouse button click
        print(f"Clicked at: ({x}, {y})")

# Load an image
image = cv.imread(r'C:\Users\sandeep\Downloads\collage.png')

# Create a window and set the mouse callback
cv.namedWindow("Image")
cv.setMouseCallback("Image", get_coordinates)







cv.imshow("Image", duplicate)

      
#cv.imshow("hi",duplicate)
cv.waitKey(0)
cv.destroyAllWindows()
